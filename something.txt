
-- @block Misc --
/* VIEW */
CREATE VIEW NgayNhanPhong AS
SELECT DATE(NgayNhanPhong) AS NgayNhanPhong
FROM DONDATPHONG;
/* TRIGGER */
-- @block AddPrefix_MHD --
CREATE TRIGGER AddPrefix_MHD
AFTER
INSERT ON HOADON FOR EACH ROW
SET NEW.MaHoaDon = CONCAT('HD', CURDATE(), MaHoaDon);
-- @block AddPrefix_MDP --
CREATE TRIGGER AddPrefix_MDP
AFTER
INSERT ON DONDATPHONG FOR EACH ROW
SET NEW.MaDatPhong = CONCAT('DP', CURDATE(), MaDatPhong);
-- @block AddPrefix_MDN --
CREATE TRIGGER AddPrefix_MDN
AFTER
INSERT ON DOANHGNHIEP FOR EACH ROW
SET NEW.MaDoanhNghiep = CONCAT('DN', MaDoanhNghiep);